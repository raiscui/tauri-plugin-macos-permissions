# 快速修复：Command not allowed by ACL 错误

## 错误信息
```
Command plugin:macos-permissions|[命令名] not allowed by ACL
```

## 快速解决方案

### 1. 添加命令到构建配置
编辑 `build.rs`：
```rust
const COMMANDS: &[&str] = &[
    // ... 现有命令
    "你的命令名", // ← 添加这里
];
```

### 2. 添加权限到默认配置
编辑 `permissions/default.toml`：
```toml
permissions = [
    # ... 现有权限
    "allow-你的命令名", # ← 添加这里
]
```

### 3. 重新构建
```bash
cargo build
cd examples/tauri-app
pnpm tauri build
```

### 4. 测试
```bash
# 使用构建后的应用测试（不是 dev 模式）
open src-tauri/target/release/bundle/macos/tauri-app.app
```

## 重要提醒

⚠️ **权限测试必须使用构建后的应用**
- ❌ `pnpm tauri dev` - 开发模式无法正确测试权限
- ✅ 构建后的 `.app` 文件 - 真实的权限环境

## 验证修复
检查是否生成了权限文件：
```
permissions/autogenerated/commands/你的命令名.toml
```

查看应用日志确认命令执行成功：
```bash
tail -f ~/Library/Logs/com.tauri-app.app/tauri-app.log
```
